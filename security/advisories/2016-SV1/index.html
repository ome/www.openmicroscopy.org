---
layout: security-advisory
filename: security
title: 2016-SV1 Cleanse
main-blurb: affects OMERO versions 5.2.3 and earlier
redirect_from:
  - /security/advisories/2016-SV1-cleanse/
---          
                
        <!-- begin SecVul -->
        <div class="secvul-row row">
            <div class="small-12 medium-3 columns">
                <h3 class="secvul-heading"><i class="fa fa-th-list"></i> Synopsis</h3>
            </div>
            <div class="small-12 medium-9 columns">
                <p class="secvul-description">The cleanse.py script which is used by the "bin/omero admin cleanse" command can lead to data loss.</p>
            </div>
        </div>
        <div class="secvul-row row">
            <div class="small-12 medium-3 columns">
                <h3 class="secvul-heading"><i class="fa fa-history"></i> Background</h3>
            </div>
            <div class="small-12 medium-9 columns">
                <p class="secvul-description">If the cleanse.py script is run by an operating system user who has permission to delete from the filesystem used for OMERO's binary repository but who is logged into OMERO as a non-administrative user (not a member of the OMERO "system" group) then the cleanse operation will delete other users' images, attachments, and other files that the OMERO user does not have permission to access.</p>
            </div>
        </div>
        <div class="secvul-row row">
            <div class="small-12 medium-3 columns">
                <h3 class="secvul-heading"><i class="fa fa-archive"></i> Affected Packages</h3>
            </div>
            <div class="small-12 medium-9 columns">
                <p class="secvul-description">OMERO.server up to and including 5.2.3.</p>
            </div>
        </div>
        <div class="secvul-row row">
            <div class="small-12 medium-3 columns">
                <h3 class="secvul-heading"><i class="fa fa-exclamation-triangle"></i> Impact</h3>
            </div>
            <div class="small-12 medium-9 columns">
                <p class="secvul-description">Potential for data loss.</p>
            </div>
        </div>
        <div class="secvul-row row">
            <div class="small-12 medium-3 columns">
                <h3 class="secvul-heading"><i class="fa fa-lightbulb-o"></i> Workaround</h3>
            </div>
            <div class="small-12 medium-9 columns">
                <p class="secvul-description">Use the <a href="https://downloads.openmicroscopy.org/resources/security/2016-SV1/2016-SV1-cleanse.patch" target="_blank">2016-SV1-cleanse.patch</a> to patch cleanse.py.</p>
            </div>
        </div>
        <div class="secvul-row row">
            <div class="small-12 medium-3 columns">
                <h3 class="secvul-heading"><i class="fa fa-check"></i> Resolution</h3>
            </div>
            <div class="small-12 medium-9 columns">
                <p class="secvul-description">All OMERO.servers should be upgraded to at least 5.2.4.</p>
            </div>
        </div>
        <div class="secvul-row row">
            <div class="small-12 medium-3 columns">
                <h3 class="secvul-heading"><i class="fa fa-star"></i> Thanks</h3>
            </div>
            <div class="small-12 medium-9 columns">
                <p class="secvul-description">CarnÃ« Draug for notifying the OME team of this security issue.</p>
            </div>
        </div>
        
        <!-- end SecVul -->
        <hr class="whitespace">
